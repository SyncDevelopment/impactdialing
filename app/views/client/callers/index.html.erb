<h1>Callers</h1>
  <% if @callers.length==0 %>
    <div class="form">
        <label>No callers entered.</label>
    </div>
  <% else %>
    <table>
      <tr>
        <th>Name</th>
        <th>Date added</th>
        <th></th>
        <th width="55" class="ac"></th>
      </tr>
  <% @callers.each do |c| %>
      <tr class="<%= cycle("odd","even") %>">
        <td><strong><%= link_to "#{c.email || c.name}", client_caller_path(c.id)%></strong></td>
        <td><%= c.created_at.strftime("%m/%d/%Y") %></td>
        <% if c.is_phones_only %>
          <td>PIN: <%= c.pin %></td>
        <%else%>
          <td></td>
        <%end%>
        <td>
          <div style="display:none;">
            <%= button_to "delete", client_caller_path(c), :method => :delete, :id => "delete-button-#{c.id}" %>
          </div>
          <a href="javascript:if(confirm('Are you sure you want to delete this caller?')) $('#delete-button-<%= c.id%>').trigger('click');" class="ico del"></a></td>
      </tr>
  <% end %>
    </table>
      <p><%= page_entries_info @callers %> <%= will_paginate @callers %></p>
<% end %>

<p><strong><a href=<%="#{request.protocol}caller.#{request.host}"%>>Your callers log in here.</a></strong> If you are using phones-only mode or need a local area phone number to call into, contact support.</p>
<p>Phones-only callers in Preview and Power mode campaigns will be read the lead&#39s name before dialing; in Predictive mode, they won&#39t know the lead&#39s name.</p>
<p class="actions"><%= link_to 'Add new caller', new_client_caller_path, :class => 'action primary' %></p>
<p class="actions"><%= link_to 'Add phones-only caller', new_client_caller_path(:is_phones_only => true), :class => 'action primary'  %></p>
<p class="actions"><%= link_to 'View deleted callers', client_deleted_callers_path, :class => 'action secondary' %></p>