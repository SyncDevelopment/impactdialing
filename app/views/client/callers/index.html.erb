<h1>Callers</h1>
	<% if @callers.length==0 %>
		<div class="form">
	      <label>No callers entered.</label>
		</div>
	<% else %>
  <div class="table">
    <table width="100%" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <th>Name</th>
        <th>Date added</th>
        <th width="55" class="ac"></th>
      </tr>
	<% @callers.each do |c| %>
      <tr class="<%= cycle("odd","even") %>">
        <td><h3><%= link_to "#{c.email || c.name}", client_caller_path(c.id)%></h3></td>
        <td><%= c.created_at.strftime("%m/%d/%Y") %></td>
        <td>
          <div style="display:none;">
            <%= button_to "delete", client_caller_path(c), :method => :delete, :id => "delete-button-#{c.id}" %>
          </div>
          <a href="javascript:if(confirm('Are you sure you want to delete this caller?')) $('#delete-button-<%= c.id%>').trigger('click');" class="ico del"></a></td>
      </tr>
	<% end %>

    </table>
	<% end %>

</div>

<p><%= page_entries_info @callers %> <%= will_paginate @callers %></p>
<p class="actions"><%= link_to 'Add web caller', new_client_caller_path, :class => 'action primary' %></p>
<p>Phones-only callers should only be used by political campaigns using the phones-only interface.</p>
<p class="actions"><%= link_to 'Add phones-only caller', new_client_caller_path(:is_phones_only => true), :class => 'action primary'  %></p>
<p class="actions"><%= link_to 'View deleted callers', client_deleted_callers_path, :class => 'action secondary' %></p>