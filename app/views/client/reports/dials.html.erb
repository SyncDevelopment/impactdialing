<h1><%= @campaign.name %> Dials</h1>

<!-- <h4><%= @leads_not_dialed %> leads not dialed.</h4> -->

<p>The data in the overview table gives the current state of the campaign.</p>

<table>
	<tr>
		<th>Status</th>
		<th>Number</th>
		<th>Percent</th>
	</tr>
	<tr>
		<td>Complete</td>
		<td></td>
		<td></td>
	</tr>
	<tr>
		<td>Available for retry</td>
		<td></td>
		<td></td>
	</tr>
	<tr>
		<td>Not yet available for retry</td>
		<td></td>
		<td></td>
	</tr>
	<tr>
		<td>Not dialed</td>
		<td></td>
		<td></td>
	</tr>	
</table>

<p>The data in the per lead table includes only the most recent status for each lead.</p>

<table>
  <tr>
    <th>Per lead</th>
    <th>Dials</th>
    <th>Percentage</th>
  </tr>			
  <%= render partial: 'dial_table', locals: {dials: @lead_dials, read_to_dial: @ready_to_dial_leads, not_dialed: @leads_not_dialed, total_dials_made: @total_dials_made_leads, total_dials: @total_lead_dials }%>		      
</table>

<p>The data in the per dial table includes every status for each lead.</p>

<table>
  <tr>
    <th>Per dial</th>
    <th>Dials</th>
    <th>Percentage</th>
  </tr>			
  <%= render partial: 'dial_table', locals: {dials: @per_attempt_dials, read_to_dial: @ready_to_dial_attempts, not_dialed: @attempt_leads_not_dialed, total_dials_made: @total_dials_made_attempts, total_dials: @total_attempt_dials }%>		      
</table>

<h3>Date range:</h3>
<% form_tag(dials_client_reports_path, :method => :get) do %>
  <table>
    <tr>
      <td>From:</td>
      <td><%= unobtrusive_date_text_picker_tag :from_date,@from_date %></td>
    </tr>
    <tr>
      <td>To:</td>
      <td><%= unobtrusive_date_text_picker_tag :to_date,@to_date %></td>
    </tr>
  </table>
  <input name="campaign_id" type="hidden" value="<%= params[:campaign_id]%>"></input>
  <div class="buttons"><button type="submit">Update date range</button></div>
<% end %>