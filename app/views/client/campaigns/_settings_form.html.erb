<fieldset>
  <legend>Settings</legend>
  <p>
    <label for="">Name</label><br>
    <%= f.text_field :name, {:class=>"field size3", name: "campaign[name]"} %>
  </p>
  <p>
    <label for="">Caller ID</label><br>
    <%= f.text_field :caller_id, {:class=>"field size3", name: "campaign[caller_id]"} %>
  </p>
  <p>
    <label for="">Script</label><br>
    <%= f.collection_select(:script_id, @scripts, :id, :name,{}, {:class=>"field", name: "campaign[script_id]"}) %>
  </p>
  <p>
    <label for="">Dialing mode</label>
    <select class="field" id="campaign_type" name="campaign[type]" onchange="dialingModeOnChange()">
      <%= options_for_select [["Predictive", "Predictive"],
                              ["Power", "Progressive"],
                              ["Preview", "Preview"]],
                             @campaign.type %>
    </select>
  </p>
  <div id="abandon_rate_edit" style="display: none">
    <p><label>Abandonment rate</label>
      <select class="field" id="campaign_abandon_rate" name="campaign[acceptable_abandon_rate]">
        <% if @campaign.account.variable_abandonment? %>
          <%= options_for_select [["1%", 0.01], ["2%", 0.02], ["3%", 0.03],["4%", 0.04], ["5%", 0.05], ["6%", 0.06],["7%", 0.07], ["8%", 0.08], ["9%", 0.09],["10%", 0.1]], @campaign.acceptable_abandon_rate %>
        <%else%>
          <%= options_for_select [["1%", 0.01], ["2%", 0.02], ["3%", 0.03]], @campaign.acceptable_abandon_rate %>
        <%end%>
      </select>
    </p>
  </div>

  <p>
    <label for="">Time zone</label>
    <%= time_zone_select("campaign", 'time_zone', ActiveSupport::TimeZone.us_zones, :default => @campaign.time_zone) %>
  </p>

  <p>
    <label for="">Dialing hours</label>
    <select class="field" id="campaign_start_time" name="campaign[start_time]">
      <%= options_for_select hours, @campaign.start_time.try(:hour) %>
    </select>
    to
    <select class="field" id="campaign_end_time" name="campaign[end_time]">
      <%= options_for_select hours, @campaign.end_time.try(:hour) %>
    </select>
  </p>

  <%= render :partial => 'shared/recycle_rate', :locals => {:recycle_hour => @campaign.recycle_rate} %>
  <%= render :partial => 'voicemail', :locals => {:form => f} %>

</fieldset>  