<div class="fields">
  <fieldset>
    <legend>Recording</legend>

    <%= f.label :name %>
    <%= f.text_field :name %>

    <fieldset>
      <legend>Audio</legend>

      <% if f.object.file.exists? %>
          <div>
            <embed type="application/x-shockwave-flash" wmode="transparent" height="27" width="320"
                   src="http://www.google.com/reader/ui/3523697345-audio-player.swf?audioUrl=<%= f.object.file.url %>"/>
          </div>
      <% end %>
      <%= f.file_field :file %>
    </fieldset>

    <fieldset>
      <legend>Responses</legend>
      <table>
        <tr>
          <th><%= f.label :response %></th>
          <th><%= f.label :keypad %></th>
          <th width="55" class="ac"></th>
        <tr>
        <div class="fields">
          <% f.fields_for :recording_responses do |response_form| %>
              <%= render :partial=>"recording_response_fields", :locals => {:f => response_form} %>
          <% end %>
          <p class="actions"><%= link_to_add_fields "Add Response", f, :recording_responses, :class => 'action secondary' %></p>
        </div>
      </table>
    </fieldset>

    <%= link_to_remove_fields "Remove this recording", f %>

  </fieldset>
</div>

