<%= javascript_include_tag 'prototype' %>

<h1>Caller</h1>
<% if @callers.length==0 %>
  <div class="form">
    <label>No callers entered.</label>
  </div>
<% else %>
  <table width="100%" border="0" cellspacing="0" cellpadding="0">
    <tr>
      <th>Name</th>
      <th>User</th>
      <th>Date Added</th>
      <th>Date Deleted</th>
      <th width="55" class="ac"></th>
    </tr>
    <% @callers.each do |c| %>
      <tr class="<%= cycle("odd","even") %>">
        <td><%= c.name %></td>
        <td><%= c.user.email %></td>
        <td><%= c.created_at.strftime("%m/%d/%Y") %></td>
        <td><%= c.active? ? '' : c.updated_at.strftime("%m/%d/%Y") %></td>
        <td>
          <% if !c.active? %>
            <% form_tag(admin_caller_restore_path(c), :id => "restore-caller#{c.id}-form", :method => :put) do |f| %>
              <%= link_to 'Restore', 'javascript:void(0)', :onclick => "$('restore-caller#{c.id}-form').submit()" %>
            <% end %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </table>
  <p><%= page_entries_info @callers %> <%= will_paginate @callers %></p>
<% end %>
